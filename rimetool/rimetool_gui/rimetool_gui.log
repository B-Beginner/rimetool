2025-04-11 16:37:30,674 - INFO - [new_app.py:33] - Python版本: 3.9.22 (main, Apr  8 2025, 15:21:55) 
[Clang 16.0.0 (clang-1600.0.26.6)]
2025-04-11 16:37:30,674 - INFO - [new_app.py:34] - 操作系统: posix, darwin
2025-04-11 16:37:30,674 - INFO - [new_app.py:35] - 当前工作目录: /Users/ww/coding/rimetool_new
2025-04-11 16:37:30,674 - INFO - [new_app.py:42] - 已添加到sys.path: /Users/ww/coding/rimetool_new/rimetool
2025-04-11 16:37:30,674 - INFO - [new_app.py:47] - 成功导入 rimetool_main
2025-04-11 16:37:30,674 - INFO - [new_app.py:66] - 创建上传目录: /Users/ww/coding/rimetool_new/rimetool/rimetool_gui/uploads
2025-04-11 16:37:30,675 - INFO - [new_app.py:68] - 创建输出目录: /Users/ww/coding/rimetool_new/rimetool/rimetool_gui/outputs
2025-04-11 16:37:30,675 - INFO - [new_app.py:348] - 启动Flask应用
2025-04-11 16:37:30,879 - INFO - [_internal.py:97] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://192.168.10.103:5001
2025-04-11 16:37:30,879 - INFO - [_internal.py:97] - [33mPress CTRL+C to quit[0m
2025-04-11 16:37:51,438 - INFO - [new_app.py:74] - 访问首页
2025-04-11 16:37:51,452 - INFO - [_internal.py:97] - 127.0.0.1 - - [11/Apr/2025 16:37:51] "GET / HTTP/1.1" 200 -
2025-04-11 16:37:51,486 - INFO - [_internal.py:97] - 127.0.0.1 - - [11/Apr/2025 16:37:51] "GET /static/style.css HTTP/1.1" 200 -
2025-04-11 16:38:01,275 - INFO - [_internal.py:97] - 127.0.0.1 - - [11/Apr/2025 16:38:01] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-04-11 16:38:13,601 - INFO - [new_app.py:74] - 访问首页
2025-04-11 16:38:13,602 - INFO - [_internal.py:97] - 127.0.0.1 - - [11/Apr/2025 16:38:13] "GET / HTTP/1.1" 200 -
2025-04-11 16:38:13,607 - INFO - [new_app.py:102] - 收到处理文件请求
2025-04-11 16:38:13,609 - INFO - [new_app.py:114] - 请求详情: {
  "form": {
    "tool": "selection"
  },
  "files": [
    "file"
  ],
  "headers": {
    "Host": "127.0.0.1:5001",
    "Connection": "keep-alive",
    "Content-Length": "461",
    "Sec-Ch-Ua-Platform": "\"macOS\"",
    "User-Agent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0",
    "Accept": "application/json",
    "Sec-Ch-Ua": "\"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"",
    "Content-Type": "multipart/form-data; boundary=----WebKitFormBoundaryrZf9vY6BUT4PXkPt",
    "Dnt": "1",
    "Sec-Ch-Ua-Mobile": "?0",
    "Origin": "http://127.0.0.1:5001",
    "Sec-Fetch-Site": "same-origin",
    "Sec-Fetch-Mode": "cors",
    "Sec-Fetch-Dest": "empty",
    "Referer": "http://127.0.0.1:5001/",
    "Accept-Encoding": "gzip, deflate, br, zstd",
    "Accept-Language": "zh-CN,zh;q=0.9,en;q=0.8,zh-TW;q=0.7,en-US;q=0.6"
  }
}
2025-04-11 16:38:13,609 - INFO - [new_app.py:134] - 处理参数 - 工具: selection, 模式: None, 是否是ZIP文件: False, 自定义输出路径: None
2025-04-11 16:38:13,609 - INFO - [new_app.py:197] - 文件已保存到: /Users/ww/coding/rimetool_new/rimetool/rimetool_gui/uploads/singlechinese_input.txt, 大小: 164 字节
2025-04-11 16:38:13,610 - INFO - [new_app.py:234] - 执行命令参数: ['--input-path', '/Users/ww/coding/rimetool_new/rimetool/rimetool_gui/uploads/singlechinese_input.txt', '--output-path', '/Users/ww/coding/rimetool_new/rimetool/rimetool_gui/outputs/selection_output', '--tool', 'selection']
2025-04-11 16:38:22,628 - INFO - [new_app.py:74] - 访问首页
2025-04-11 16:38:22,629 - INFO - [_internal.py:97] - 127.0.0.1 - - [11/Apr/2025 16:38:22] "GET / HTTP/1.1" 200 -
2025-04-11 16:38:22,639 - INFO - [new_app.py:102] - 收到处理文件请求
2025-04-11 16:38:22,640 - INFO - [new_app.py:114] - 请求详情: {
  "form": {
    "tool": "sc"
  },
  "files": [
    "file"
  ],
  "headers": {
    "Host": "127.0.0.1:5001",
    "Connection": "keep-alive",
    "Content-Length": "454",
    "Sec-Ch-Ua-Platform": "\"macOS\"",
    "User-Agent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0",
    "Accept": "application/json",
    "Sec-Ch-Ua": "\"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"",
    "Content-Type": "multipart/form-data; boundary=----WebKitFormBoundaryfVO3W18aSNKCGAiz",
    "Dnt": "1",
    "Sec-Ch-Ua-Mobile": "?0",
    "Origin": "http://127.0.0.1:5001",
    "Sec-Fetch-Site": "same-origin",
    "Sec-Fetch-Mode": "cors",
    "Sec-Fetch-Dest": "empty",
    "Referer": "http://127.0.0.1:5001/",
    "Accept-Encoding": "gzip, deflate, br, zstd",
    "Accept-Language": "zh-CN,zh;q=0.9,en;q=0.8,zh-TW;q=0.7,en-US;q=0.6"
  }
}
2025-04-11 16:38:22,641 - INFO - [new_app.py:134] - 处理参数 - 工具: sc, 模式: None, 是否是ZIP文件: False, 自定义输出路径: None
2025-04-11 16:38:22,641 - INFO - [new_app.py:197] - 文件已保存到: /Users/ww/coding/rimetool_new/rimetool/rimetool_gui/uploads/singlechinese_input.txt, 大小: 164 字节
2025-04-11 16:38:22,641 - INFO - [new_app.py:234] - 执行命令参数: ['--input-path', '/Users/ww/coding/rimetool_new/rimetool/rimetool_gui/uploads/singlechinese_input.txt', '--output-path', '/Users/ww/coding/rimetool_new/rimetool/rimetool_gui/outputs/sc_output', '--tool', 'sc']
2025-04-11 16:38:22,643 - INFO - [new_app.py:239] - 处理完成，输出文件: /Users/ww/coding/rimetool_new/rimetool/rimetool_gui/outputs/sc_output/simple_chinese_output_2025-04-11_16-38-22.dict.yaml
2025-04-11 16:38:22,643 - INFO - [new_app.py:247] - 返回单个文件: /Users/ww/coding/rimetool_new/rimetool/rimetool_gui/outputs/sc_output/simple_chinese_output_2025-04-11_16-38-22.dict.yaml, 大小: 486 字节
2025-04-11 16:38:22,644 - INFO - [_internal.py:97] - 127.0.0.1 - - [11/Apr/2025 16:38:22] "POST /process HTTP/1.1" 200 -
2025-04-11 16:42:00,217 - INFO - [new_app.py:74] - 访问首页
2025-04-11 16:42:00,218 - INFO - [_internal.py:97] - 127.0.0.1 - - [11/Apr/2025 16:42:00] "GET / HTTP/1.1" 200 -
2025-04-11 16:42:00,225 - INFO - [new_app.py:102] - 收到处理文件请求
2025-04-11 16:42:00,228 - INFO - [new_app.py:114] - 请求详情: {
  "form": {
    "is_zip_file": "true",
    "mode": "epub_to_txt"
  },
  "files": [
    "zip_file"
  ],
  "headers": {
    "Host": "127.0.0.1:5001",
    "Connection": "keep-alive",
    "Content-Length": "308736",
    "Sec-Ch-Ua-Platform": "\"macOS\"",
    "User-Agent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0",
    "Accept": "application/json",
    "Sec-Ch-Ua": "\"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"",
    "Content-Type": "multipart/form-data; boundary=----WebKitFormBoundaryABqLBexlIn3WK08t",
    "Dnt": "1",
    "Sec-Ch-Ua-Mobile": "?0",
    "Origin": "http://127.0.0.1:5001",
    "Sec-Fetch-Site": "same-origin",
    "Sec-Fetch-Mode": "cors",
    "Sec-Fetch-Dest": "empty",
    "Referer": "http://127.0.0.1:5001/",
    "Accept-Encoding": "gzip, deflate, br, zstd",
    "Accept-Language": "zh-CN,zh;q=0.9,en;q=0.8,zh-TW;q=0.7,en-US;q=0.6"
  }
}
2025-04-11 16:42:00,228 - INFO - [new_app.py:134] - 处理参数 - 工具: epub, 模式: epub_to_txt, 是否是ZIP文件: True, 自定义输出路径: None
2025-04-11 16:42:00,229 - INFO - [new_app.py:150] - ZIP文件已保存到: /Users/ww/coding/rimetool_new/rimetool/rimetool_gui/uploads/jinkuiyaolue.epub.zip, 大小: 308328 字节
2025-04-11 16:42:00,230 - INFO - [new_app.py:160] - 删除已存在的文件夹: /Users/ww/coding/rimetool_new/rimetool/rimetool_gui/uploads/jinkuiyaolue.epub
2025-04-11 16:42:00,242 - INFO - [new_app.py:168] - ZIP文件内容: ['jinkuiyaolue.epub/mimetype', 'jinkuiyaolue.epub/OEBPS/text00029.html', 'jinkuiyaolue.epub/OEBPS/text00013.html', 'jinkuiyaolue.epub/OEBPS/text00005.html', 'jinkuiyaolue.epub/OEBPS/text00025.html', 'jinkuiyaolue.epub/OEBPS/text00009.html', 'jinkuiyaolue.epub/OEBPS/text00008.html', 'jinkuiyaolue.epub/OEBPS/flow0001.css', 'jinkuiyaolue.epub/OEBPS/text00024.html', 'jinkuiyaolue.epub/OEBPS/text00004.html', 'jinkuiyaolue.epub/OEBPS/text00012.html', 'jinkuiyaolue.epub/OEBPS/text00028.html', 'jinkuiyaolue.epub/OEBPS/text00023.html', 'jinkuiyaolue.epub/OEBPS/Image00002.jpg', 'jinkuiyaolue.epub/OEBPS/Image00003.jpg', 'jinkuiyaolue.epub/OEBPS/Image00017.jpg', 'jinkuiyaolue.epub/OEBPS/text00019.html', 'jinkuiyaolue.epub/OEBPS/Image00001.jpg', 'jinkuiyaolue.epub/OEBPS/Image00015.jpg', 'jinkuiyaolue.epub/OEBPS/text00015.html']...
2025-04-11 16:42:00,262 - INFO - [new_app.py:172] - ZIP文件已解压到: /Users/ww/coding/rimetool_new/rimetool/rimetool_gui/uploads/jinkuiyaolue.epub
2025-04-11 16:42:00,262 - INFO - [new_app.py:88] - 成功创建 META-INF 文件夹: /Users/ww/coding/rimetool_new/rimetool/rimetool_gui/uploads/jinkuiyaolue.epub/META-INF
2025-04-11 16:42:00,263 - INFO - [new_app.py:234] - 执行命令参数: ['--input-path', '/Users/ww/coding/rimetool_new/rimetool/rimetool_gui/uploads/jinkuiyaolue.epub', '--output-path', '/Users/ww/coding/rimetool_new/rimetool/rimetool_gui/outputs/epub_output', '--tool', 'epub', '--mode', 'epub_to_txt']
2025-04-11 16:42:00,265 - INFO - [new_app.py:239] - 处理完成，输出文件: None
2025-04-11 16:42:00,265 - ERROR - [new_app.py:320] - 未知的输出类型: <class 'NoneType'>
2025-04-11 16:42:00,266 - INFO - [_internal.py:97] - 127.0.0.1 - - [11/Apr/2025 16:42:00] "[35m[1mPOST /process HTTP/1.1[0m" 500 -
2025-04-11 16:42:07,457 - INFO - [new_app.py:74] - 访问首页
2025-04-11 16:42:07,458 - INFO - [_internal.py:97] - 127.0.0.1 - - [11/Apr/2025 16:42:07] "GET / HTTP/1.1" 200 -
2025-04-11 16:42:07,476 - INFO - [new_app.py:102] - 收到处理文件请求
2025-04-11 16:42:07,478 - INFO - [new_app.py:114] - 请求详情: {
  "form": {
    "is_zip_file": "true",
    "mode": "epub_to_txt"
  },
  "files": [
    "zip_file"
  ],
  "headers": {
    "Host": "127.0.0.1:5001",
    "Connection": "keep-alive",
    "Content-Length": "308736",
    "Sec-Ch-Ua-Platform": "\"macOS\"",
    "User-Agent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0",
    "Accept": "application/json",
    "Sec-Ch-Ua": "\"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"",
    "Content-Type": "multipart/form-data; boundary=----WebKitFormBoundary6CaYk0qFH7TUigNh",
    "Dnt": "1",
    "Sec-Ch-Ua-Mobile": "?0",
    "Origin": "http://127.0.0.1:5001",
    "Sec-Fetch-Site": "same-origin",
    "Sec-Fetch-Mode": "cors",
    "Sec-Fetch-Dest": "empty",
    "Referer": "http://127.0.0.1:5001/",
    "Accept-Encoding": "gzip, deflate, br, zstd",
    "Accept-Language": "zh-CN,zh;q=0.9,en;q=0.8,zh-TW;q=0.7,en-US;q=0.6"
  }
}
2025-04-11 16:42:07,478 - INFO - [new_app.py:134] - 处理参数 - 工具: epub, 模式: epub_to_txt, 是否是ZIP文件: True, 自定义输出路径: None
2025-04-11 16:42:07,479 - INFO - [new_app.py:150] - ZIP文件已保存到: /Users/ww/coding/rimetool_new/rimetool/rimetool_gui/uploads/jinkuiyaolue.epub.zip, 大小: 308328 字节
2025-04-11 16:42:07,479 - INFO - [new_app.py:160] - 删除已存在的文件夹: /Users/ww/coding/rimetool_new/rimetool/rimetool_gui/uploads/jinkuiyaolue.epub
2025-04-11 16:42:07,487 - INFO - [new_app.py:168] - ZIP文件内容: ['jinkuiyaolue.epub/mimetype', 'jinkuiyaolue.epub/OEBPS/text00029.html', 'jinkuiyaolue.epub/OEBPS/text00013.html', 'jinkuiyaolue.epub/OEBPS/text00005.html', 'jinkuiyaolue.epub/OEBPS/text00025.html', 'jinkuiyaolue.epub/OEBPS/text00009.html', 'jinkuiyaolue.epub/OEBPS/text00008.html', 'jinkuiyaolue.epub/OEBPS/flow0001.css', 'jinkuiyaolue.epub/OEBPS/text00024.html', 'jinkuiyaolue.epub/OEBPS/text00004.html', 'jinkuiyaolue.epub/OEBPS/text00012.html', 'jinkuiyaolue.epub/OEBPS/text00028.html', 'jinkuiyaolue.epub/OEBPS/text00023.html', 'jinkuiyaolue.epub/OEBPS/Image00002.jpg', 'jinkuiyaolue.epub/OEBPS/Image00003.jpg', 'jinkuiyaolue.epub/OEBPS/Image00017.jpg', 'jinkuiyaolue.epub/OEBPS/text00019.html', 'jinkuiyaolue.epub/OEBPS/Image00001.jpg', 'jinkuiyaolue.epub/OEBPS/Image00015.jpg', 'jinkuiyaolue.epub/OEBPS/text00015.html']...
2025-04-11 16:42:07,507 - INFO - [new_app.py:172] - ZIP文件已解压到: /Users/ww/coding/rimetool_new/rimetool/rimetool_gui/uploads/jinkuiyaolue.epub
2025-04-11 16:42:07,507 - INFO - [new_app.py:88] - 成功创建 META-INF 文件夹: /Users/ww/coding/rimetool_new/rimetool/rimetool_gui/uploads/jinkuiyaolue.epub/META-INF
2025-04-11 16:42:07,508 - INFO - [new_app.py:234] - 执行命令参数: ['--input-path', '/Users/ww/coding/rimetool_new/rimetool/rimetool_gui/uploads/jinkuiyaolue.epub', '--output-path', '/Users/ww/coding/rimetool_new/rimetool/rimetool_gui/outputs/epub_output', '--tool', 'epub', '--mode', 'epub_to_txt']
2025-04-11 16:42:07,509 - INFO - [new_app.py:239] - 处理完成，输出文件: None
2025-04-11 16:42:07,510 - ERROR - [new_app.py:320] - 未知的输出类型: <class 'NoneType'>
2025-04-11 16:42:07,510 - INFO - [_internal.py:97] - 127.0.0.1 - - [11/Apr/2025 16:42:07] "[35m[1mPOST /process HTTP/1.1[0m" 500 -
2025-04-11 16:43:50,173 - INFO - [new_app.py:74] - 访问首页
2025-04-11 16:43:50,174 - INFO - [_internal.py:97] - 127.0.0.1 - - [11/Apr/2025 16:43:50] "GET / HTTP/1.1" 200 -
2025-04-11 16:43:50,183 - INFO - [new_app.py:102] - 收到处理文件请求
2025-04-11 16:43:50,186 - INFO - [new_app.py:114] - 请求详情: {
  "form": {
    "is_zip_file": "true",
    "mode": "epub_to_txt"
  },
  "files": [
    "zip_file"
  ],
  "headers": {
    "Host": "127.0.0.1:5001",
    "Connection": "keep-alive",
    "Content-Length": "276143",
    "Sec-Ch-Ua-Platform": "\"macOS\"",
    "User-Agent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0",
    "Accept": "application/json",
    "Sec-Ch-Ua": "\"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"",
    "Content-Type": "multipart/form-data; boundary=----WebKitFormBoundary4BBAwoXBtTfCVomA",
    "Dnt": "1",
    "Sec-Ch-Ua-Mobile": "?0",
    "Origin": "http://127.0.0.1:5001",
    "Sec-Fetch-Site": "same-origin",
    "Sec-Fetch-Mode": "cors",
    "Sec-Fetch-Dest": "empty",
    "Referer": "http://127.0.0.1:5001/",
    "Accept-Encoding": "gzip, deflate, br, zstd",
    "Accept-Language": "zh-CN,zh;q=0.9,en;q=0.8,zh-TW;q=0.7,en-US;q=0.6"
  }
}
2025-04-11 16:43:50,186 - INFO - [new_app.py:134] - 处理参数 - 工具: epub, 模式: epub_to_txt, 是否是ZIP文件: True, 自定义输出路径: None
2025-04-11 16:43:50,187 - INFO - [new_app.py:150] - ZIP文件已保存到: /Users/ww/coding/rimetool_new/rimetool/rimetool_gui/uploads/金匮要略.epub.zip, 大小: 275735 字节
2025-04-11 16:43:50,189 - INFO - [new_app.py:168] - ZIP文件内容: ['金匮要略.epub/', '金匮要略.epub/META-INF/', '金匮要略.epub/META-INF/container.xml', '金匮要略.epub/mimetype', '金匮要略.epub/OEBPS/', '金匮要略.epub/OEBPS/text00029.html', '金匮要略.epub/OEBPS/text00013.html', '金匮要略.epub/OEBPS/text00005.html', '金匮要略.epub/OEBPS/text00025.html', '金匮要略.epub/OEBPS/text00009.html', '金匮要略.epub/OEBPS/text00008.html', '金匮要略.epub/OEBPS/flow0001.css', '金匮要略.epub/OEBPS/text00024.html', '金匮要略.epub/OEBPS/text00004.html', '金匮要略.epub/OEBPS/text00012.html', '金匮要略.epub/OEBPS/text00028.html', '金匮要略.epub/OEBPS/text00023.html', '金匮要略.epub/OEBPS/Image00002.jpg', '金匮要略.epub/OEBPS/Image00003.jpg', '金匮要略.epub/OEBPS/Image00017.jpg']...
2025-04-11 16:43:50,220 - INFO - [new_app.py:172] - ZIP文件已解压到: /Users/ww/coding/rimetool_new/rimetool/rimetool_gui/uploads/金匮要略.epub
2025-04-11 16:43:50,220 - INFO - [new_app.py:88] - 成功创建 META-INF 文件夹: /Users/ww/coding/rimetool_new/rimetool/rimetool_gui/uploads/金匮要略.epub/META-INF
2025-04-11 16:43:50,220 - INFO - [new_app.py:234] - 执行命令参数: ['--input-path', '/Users/ww/coding/rimetool_new/rimetool/rimetool_gui/uploads/金匮要略.epub', '--output-path', '/Users/ww/coding/rimetool_new/rimetool/rimetool_gui/outputs/epub_output', '--tool', 'epub', '--mode', 'epub_to_txt']
2025-04-11 16:43:50,221 - INFO - [new_app.py:239] - 处理完成，输出文件: None
2025-04-11 16:43:50,221 - ERROR - [new_app.py:320] - 未知的输出类型: <class 'NoneType'>
2025-04-11 16:43:50,221 - INFO - [_internal.py:97] - 127.0.0.1 - - [11/Apr/2025 16:43:50] "[35m[1mPOST /process HTTP/1.1[0m" 500 -
2025-04-11 16:43:54,816 - INFO - [new_app.py:74] - 访问首页
2025-04-11 16:43:54,816 - INFO - [_internal.py:97] - 127.0.0.1 - - [11/Apr/2025 16:43:54] "GET / HTTP/1.1" 200 -
2025-04-11 16:43:54,826 - INFO - [new_app.py:102] - 收到处理文件请求
2025-04-11 16:43:54,829 - INFO - [new_app.py:114] - 请求详情: {
  "form": {
    "is_zip_file": "true",
    "mode": "epub_to_rime"
  },
  "files": [
    "zip_file"
  ],
  "headers": {
    "Host": "127.0.0.1:5001",
    "Connection": "keep-alive",
    "Content-Length": "276144",
    "Sec-Ch-Ua-Platform": "\"macOS\"",
    "User-Agent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0",
    "Accept": "application/json",
    "Sec-Ch-Ua": "\"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"",
    "Content-Type": "multipart/form-data; boundary=----WebKitFormBoundary7yBv1921OdwolT8s",
    "Dnt": "1",
    "Sec-Ch-Ua-Mobile": "?0",
    "Origin": "http://127.0.0.1:5001",
    "Sec-Fetch-Site": "same-origin",
    "Sec-Fetch-Mode": "cors",
    "Sec-Fetch-Dest": "empty",
    "Referer": "http://127.0.0.1:5001/",
    "Accept-Encoding": "gzip, deflate, br, zstd",
    "Accept-Language": "zh-CN,zh;q=0.9,en;q=0.8,zh-TW;q=0.7,en-US;q=0.6"
  }
}
2025-04-11 16:43:54,829 - INFO - [new_app.py:134] - 处理参数 - 工具: epub, 模式: epub_to_rime, 是否是ZIP文件: True, 自定义输出路径: None
2025-04-11 16:43:54,830 - INFO - [new_app.py:150] - ZIP文件已保存到: /Users/ww/coding/rimetool_new/rimetool/rimetool_gui/uploads/金匮要略.epub.zip, 大小: 275735 字节
2025-04-11 16:43:54,830 - INFO - [new_app.py:160] - 删除已存在的文件夹: /Users/ww/coding/rimetool_new/rimetool/rimetool_gui/uploads/金匮要略.epub
2025-04-11 16:43:54,842 - INFO - [new_app.py:168] - ZIP文件内容: ['金匮要略.epub/', '金匮要略.epub/META-INF/', '金匮要略.epub/META-INF/container.xml', '金匮要略.epub/mimetype', '金匮要略.epub/OEBPS/', '金匮要略.epub/OEBPS/text00029.html', '金匮要略.epub/OEBPS/text00013.html', '金匮要略.epub/OEBPS/text00005.html', '金匮要略.epub/OEBPS/text00025.html', '金匮要略.epub/OEBPS/text00009.html', '金匮要略.epub/OEBPS/text00008.html', '金匮要略.epub/OEBPS/flow0001.css', '金匮要略.epub/OEBPS/text00024.html', '金匮要略.epub/OEBPS/text00004.html', '金匮要略.epub/OEBPS/text00012.html', '金匮要略.epub/OEBPS/text00028.html', '金匮要略.epub/OEBPS/text00023.html', '金匮要略.epub/OEBPS/Image00002.jpg', '金匮要略.epub/OEBPS/Image00003.jpg', '金匮要略.epub/OEBPS/Image00017.jpg']...
2025-04-11 16:43:54,858 - INFO - [new_app.py:172] - ZIP文件已解压到: /Users/ww/coding/rimetool_new/rimetool/rimetool_gui/uploads/金匮要略.epub
2025-04-11 16:43:54,858 - INFO - [new_app.py:88] - 成功创建 META-INF 文件夹: /Users/ww/coding/rimetool_new/rimetool/rimetool_gui/uploads/金匮要略.epub/META-INF
2025-04-11 16:43:54,858 - INFO - [new_app.py:234] - 执行命令参数: ['--input-path', '/Users/ww/coding/rimetool_new/rimetool/rimetool_gui/uploads/金匮要略.epub', '--output-path', '/Users/ww/coding/rimetool_new/rimetool/rimetool_gui/outputs/epub_output', '--tool', 'epub', '--mode', 'epub_to_rime']
2025-04-11 16:43:54,860 - ERROR - [new_app.py:241] - 调用 rimetool_main 失败: expected str, bytes or os.PathLike object, not NoneType
Traceback (most recent call last):
  File "/Users/ww/coding/rimetool_new/rimetool/rimetool_gui/new_app.py", line 238, in process_file
    output_file = rimetool_main(args)
  File "/Users/ww/coding/rimetool_new/rimetool/main.py", line 133, in main_with_args
    result = main(output_files, is_web=True)
  File "/Users/ww/coding/rimetool_new/rimetool/main.py", line 103, in main
    output_files = processor.epub_to_rime(output_files)
  File "/Users/ww/coding/rimetool_new/rimetool/rimetool_core/utils/Epub_Processor.py", line 207, in epub_to_rime
    result_files = self.txt_to_rime_all(input_path, output_files)
  File "/Users/ww/coding/rimetool_new/rimetool/rimetool_core/utils/Epub_Processor.py", line 217, in txt_to_rime_all
    short_path = self.txt_to_short_long(input_path, output_files)
  File "/Users/ww/coding/rimetool_new/rimetool/rimetool_core/utils/Epub_Processor.py", line 258, in txt_to_short_long
    short_path = self.split_into_short_sentences(input_path, output_files['short'])
  File "/Users/ww/coding/rimetool_new/rimetool/rimetool_core/utils/Epub_Processor.py", line 108, in split_into_short_sentences
    with open(epub_txt_file, 'r', encoding='utf-8') as f:
TypeError: expected str, bytes or os.PathLike object, not NoneType

2025-04-11 16:43:54,861 - INFO - [_internal.py:97] - 127.0.0.1 - - [11/Apr/2025 16:43:54] "[35m[1mPOST /process HTTP/1.1[0m" 500 -
2025-04-11 17:05:48,678 - INFO - [new_app.py:34] - Python版本: 3.9.22 (main, Apr  8 2025, 15:21:55) 
[Clang 16.0.0 (clang-1600.0.26.6)]
2025-04-11 17:05:48,678 - INFO - [new_app.py:35] - 操作系统: posix, darwin
2025-04-11 17:05:48,678 - INFO - [new_app.py:36] - 当前工作目录: /Users/ww/coding/rimetool_new
2025-04-11 17:05:48,678 - INFO - [new_app.py:43] - 已添加到sys.path: /Users/ww/coding/rimetool_new/rimetool
2025-04-11 17:05:48,678 - INFO - [new_app.py:48] - 成功导入 rimetool_main
2025-04-11 17:05:48,678 - INFO - [new_app.py:67] - 创建上传目录: /Users/ww/coding/rimetool_new/rimetool/rimetool_gui/uploads
2025-04-11 17:05:48,678 - INFO - [new_app.py:69] - 创建输出目录: /Users/ww/coding/rimetool_new/rimetool/rimetool_gui/outputs
2025-04-11 17:05:48,679 - INFO - [new_app.py:351] - 启动Flask应用
2025-04-11 17:05:53,690 - INFO - [new_app.py:74] - 访问首页
2025-04-11 17:05:53,692 - INFO - [_internal.py:97] - 127.0.0.1 - - [11/Apr/2025 17:05:53] "GET / HTTP/1.1" 200 -
2025-04-11 17:05:53,748 - INFO - [_internal.py:97] - 127.0.0.1 - - [11/Apr/2025 17:05:53] "[36mGET /static/style.css HTTP/1.1[0m" 304 -
2025-04-11 17:06:02,754 - INFO - [new_app.py:34] - Python版本: 3.9.22 (main, Apr  8 2025, 15:21:55) 
[Clang 16.0.0 (clang-1600.0.26.6)]
2025-04-11 17:06:02,754 - INFO - [new_app.py:35] - 操作系统: posix, darwin
2025-04-11 17:06:02,754 - INFO - [new_app.py:36] - 当前工作目录: /Users/ww/coding/rimetool_new
2025-04-11 17:06:02,754 - INFO - [new_app.py:43] - 已添加到sys.path: /Users/ww/coding/rimetool_new/rimetool
2025-04-11 17:06:02,754 - INFO - [new_app.py:48] - 成功导入 rimetool_main
2025-04-11 17:06:02,754 - INFO - [new_app.py:67] - 创建上传目录: /Users/ww/coding/rimetool_new/rimetool/rimetool_gui/uploads
2025-04-11 17:06:02,754 - INFO - [new_app.py:69] - 创建输出目录: /Users/ww/coding/rimetool_new/rimetool/rimetool_gui/outputs
2025-04-11 17:06:02,755 - INFO - [new_app.py:351] - 启动Flask应用
2025-04-11 17:06:02,763 - INFO - [_internal.py:97] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://192.168.10.103:5001
2025-04-11 17:06:02,764 - INFO - [_internal.py:97] - [33mPress CTRL+C to quit[0m
2025-04-11 17:06:06,099 - INFO - [new_app.py:75] - 访问首页
2025-04-11 17:06:06,111 - INFO - [_internal.py:97] - 127.0.0.1 - - [11/Apr/2025 17:06:06] "GET / HTTP/1.1" 200 -
2025-04-11 17:06:06,217 - INFO - [_internal.py:97] - 127.0.0.1 - - [11/Apr/2025 17:06:06] "[36mGET /static/style.css HTTP/1.1[0m" 304 -
2025-04-11 17:06:14,261 - INFO - [_internal.py:97] - 127.0.0.1 - - [11/Apr/2025 17:06:14] "GET /get_beian_text HTTP/1.1" 200 -
2025-04-11 17:07:29,615 - INFO - [new_app.py:75] - 访问首页
2025-04-11 17:07:29,617 - INFO - [_internal.py:97] - 127.0.0.1 - - [11/Apr/2025 17:07:29] "GET / HTTP/1.1" 200 -
2025-04-11 17:07:29,664 - INFO - [_internal.py:97] - 127.0.0.1 - - [11/Apr/2025 17:07:29] "[36mGET /static/style.css HTTP/1.1[0m" 304 -
2025-04-11 17:07:37,718 - INFO - [_internal.py:97] - 127.0.0.1 - - [11/Apr/2025 17:07:37] "GET /get_beian_text HTTP/1.1" 200 -
2025-04-11 17:07:42,971 - INFO - [new_app.py:34] - Python版本: 3.9.22 (main, Apr  8 2025, 15:21:55) 
[Clang 16.0.0 (clang-1600.0.26.6)]
2025-04-11 17:07:42,971 - INFO - [new_app.py:35] - 操作系统: posix, darwin
2025-04-11 17:07:42,971 - INFO - [new_app.py:36] - 当前工作目录: /Users/ww/coding/rimetool_new
2025-04-11 17:07:42,971 - INFO - [new_app.py:43] - 已添加到sys.path: /Users/ww/coding/rimetool_new/rimetool
2025-04-11 17:07:42,972 - INFO - [new_app.py:48] - 成功导入 rimetool_main
2025-04-11 17:07:42,972 - INFO - [new_app.py:67] - 创建上传目录: /Users/ww/coding/rimetool_new/rimetool/rimetool_gui/uploads
2025-04-11 17:07:42,972 - INFO - [new_app.py:69] - 创建输出目录: /Users/ww/coding/rimetool_new/rimetool/rimetool_gui/outputs
2025-04-11 17:07:42,972 - INFO - [new_app.py:351] - 启动Flask应用
2025-04-11 17:07:42,980 - INFO - [_internal.py:97] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://192.168.10.103:5001
2025-04-11 17:07:42,980 - INFO - [_internal.py:97] - [33mPress CTRL+C to quit[0m
2025-04-11 17:07:46,007 - INFO - [new_app.py:75] - 访问首页
2025-04-11 17:07:46,012 - INFO - [_internal.py:97] - 127.0.0.1 - - [11/Apr/2025 17:07:46] "GET / HTTP/1.1" 200 -
2025-04-11 17:07:46,076 - INFO - [_internal.py:97] - 127.0.0.1 - - [11/Apr/2025 17:07:46] "[36mGET /static/style.css HTTP/1.1[0m" 304 -
2025-04-11 17:07:54,591 - INFO - [_internal.py:97] - 127.0.0.1 - - [11/Apr/2025 17:07:54] "GET /get_beian_text HTTP/1.1" 200 -
2025-04-11 17:13:16,724 - INFO - [new_app.py:34] - Python版本: 3.9.22 (main, Apr  8 2025, 15:21:55) 
[Clang 16.0.0 (clang-1600.0.26.6)]
2025-04-11 17:13:16,724 - INFO - [new_app.py:35] - 操作系统: posix, darwin
2025-04-11 17:13:16,724 - INFO - [new_app.py:36] - 当前工作目录: /Users/ww/coding/rimetool_new
2025-04-11 17:13:16,725 - INFO - [new_app.py:43] - 已添加到sys.path: /Users/ww/coding/rimetool_new/rimetool
2025-04-11 17:13:16,725 - INFO - [new_app.py:48] - 成功导入 rimetool_main
2025-04-11 17:13:16,725 - INFO - [new_app.py:67] - 创建上传目录: /Users/ww/coding/rimetool_new/rimetool/rimetool_gui/uploads
2025-04-11 17:13:16,725 - INFO - [new_app.py:69] - 创建输出目录: /Users/ww/coding/rimetool_new/rimetool/rimetool_gui/outputs
2025-04-11 17:13:16,725 - INFO - [new_app.py:359] - 启动Flask应用
2025-04-11 17:13:16,733 - INFO - [_internal.py:97] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://192.168.10.103:5001
2025-04-11 17:13:16,733 - INFO - [_internal.py:97] - [33mPress CTRL+C to quit[0m
2025-04-11 17:13:21,531 - INFO - [new_app.py:75] - 访问首页
2025-04-11 17:13:21,572 - INFO - [_internal.py:97] - 127.0.0.1 - - [11/Apr/2025 17:13:21] "GET / HTTP/1.1" 200 -
2025-04-11 17:13:21,617 - INFO - [_internal.py:97] - 127.0.0.1 - - [11/Apr/2025 17:13:21] "[36mGET /static/style.css HTTP/1.1[0m" 304 -
2025-04-11 17:13:31,720 - INFO - [_internal.py:97] - 127.0.0.1 - - [11/Apr/2025 17:13:31] "GET /get_beian_text HTTP/1.1" 200 -
2025-04-11 17:13:31,729 - INFO - [_internal.py:97] - 127.0.0.1 - - [11/Apr/2025 17:13:31] "GET /get_website_config HTTP/1.1" 200 -
